<!DOCTYPE html>
<html>

<head>
    <link href="style.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>

<body>
    <h1 Style="text-align: center;"> My Favorite Movies</h1>
    <div class="form">


        <label for="mvetitle"> Movie Title: </label>
        <input id="mvetitle" type="text" placeholder="Movie Title" required>
        <label for="rating"> Rating </label>
        <input id="rating" type="number" min="0" max="10" step="1" placeholder="Give a Rating From 0 to 10" required>
        <button id="btn" class="addmve">Add Movie</button>


    </div>
    <div class="table">
        <table id="movietable">

            <tr id="default">
                <th class="title">
                    Movie name<button type="button" id="sort1">&#9650</button>
                </th>
                <th>
                    Rating <button type="button" id="sort2">&#9650</button>
                </th>
                <th>
                    Delete
                </th>

            </tr>

        </table>
    </div>
    <script>

        $(document).ready(function () {


            $("#btn").click(function () {
                var usermovie = $("#mvetitle").val();
                var userrating = $("#rating").val();
                $('tbody').append('<tr><td>' + usermovie + ' </td><td>' + userrating + '</td> <td><button id = "dbtn" class = "deletebtn"> delete </button> </td></tr>');
                //On button click, append a new rows and collumm based on user input 


            });
        });
        $('table').on('click', '.deletebtn', function (e) {
            e.preventDefault();
            $(this).parents('tr').remove();

        });
        $('#sort1, #sort2').on('click', function () {
            var row1= $(this).closest("th").index() + 1;
            var row2 = $('#movietable').find(' tbody > tr:has(td)').get();
            row2.sort(function (a, b) {
                var cmp1 = $(a).children(':nth-child(' + row1 + ')').text();
                var cmp2 = $(b).children(':nth-child(' + row1 + ')').text();
                if (cmp1 < cmp2){
                    return -1;
                }
                if (cmp1 > cmp2){
                    return 1;
                }
                return 0;
            });

            $.each(row2, function (index, row) {
                $('tbody').append(row);

            });
        });

    </script>

</body>

</html>